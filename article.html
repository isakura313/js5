Делаем свою CRUD API на Express и Mysql: часть первая

Express один из самых популярных веб-фреймворков, который поддерживает роутинг, миддлвейрс и даже систему шаблонов. 
Сегодня мы попробуем создать несложное CRUD API, используя базу данных Mysql. API мы будем создавать для несложной Todo, на тот случай, если кто-то захочет к своей todo присобачить немного немного бэка и поиграть с ним. 
<h5> Архитектура суть нашего приложения</h5>
В нашем приложении можно будет создавать, получать, обновлять и удалять Todo. В общем, у нас будет минимальный набор функций CRUD (create read update delete).

В конце мы совместим наше приложение c приложением на  React и все протестируем. 
Для начала приведу структуру нашего приложения:
<img src="" alt="">

<h5> Создание своего Node.js приложения</h5>
Переходим в вашу любимую директорирую, запускаем терминал и создаем ваше приложение. Кстати, наверное из заголовка понятно, что Node.js у вас уже должна быть установлена:
<source>
    $ mkdir CRUD_API
    $ cd CRUD_API
</source>
 Дальше нам нужно инициилизировать наше приложение с помощью npm init. Т.к. приложение у нас скорее тестовое и обучающее, я воспользуюсь командной, которая заполнит все по дефолту:
 <source>
 npm init -y
 </source>

Если что, потом руками в package.json поменяю данные на те, которые мне нужны: репозиторий github, тэги, автора, и т.д. 
Дальше нам нужно поставить все необходимые для работы нашего приложения пакеты:
<source>
npm i express mysql body-parser --save
</source>
Если вы собираетесь отправлять потом вашу разработку на github, вам стоит создать скрытый файл .gitignore, чтобы не таскать с собой тяжелейшие node_modules  (и не позориться).Пишем:
<source>
    touch .gitignore 
    code .gitignore 
</source>
Там пишем node_modules, потом вы сможете добавлять туда те файлы, которые вы хотите, чтобы они попали в слежение git.

 <h3> Базовая настройка Express</h3>
В корневой папки проекта создаем файл server.js: 
<source lang="javascript">
    const express = require("express");
    const bodyParser = require("body-parser");
    
    const app = express();
    
    
    //делаем наш парсинг в формате json
    app.use(bodyParser.json());
    
    // парсит запросы  по типу: application/x-www-form-urlencoded
    app.use(bodyParser.urlencoded({ extended: true }));
    
    //  простой response - request
    app.get("/", (req, res) => {
      res.json({ message: "Это стартовая страница нашего приложения" });
    });
    
    // установить порт, и слушать запросы
    app.listen(3001, () => {
      console.log("Сервер запущен на 3001 порту");
    });
</source>

Теперь мы можем запустить наш сервер  с помощью:
<source>
node server.js
</source>
 <h5>Создаем свою таблицу данных MySQL</h5>
Я очень надеюсь, что у читателя данной статьи нет проблемы с тем, чтобы самостоятельно скачать и установить MySQL и MySQLWorkBranch. Дальше вы самостоятельно создаете  scheme с названием, которое вам больше нравится, и потом выбрать молнию-запрос и скопировать/набрать следующую команду:
<source lang="sql">
    CREATE TABLE IF NOT EXISTS `todo` (
        id int(11) NOT NULL PRIMARY KEY AUTO_INCREMENT,
        text varchar(255) NOT NULL
      ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
</source>
В нашей базе данных будет все по минимуму: только id и сам текст дел. Однако добавить ещё колоночку, надеюсь, проблем не вызовет.


<h5> Конфигурация & коннект с нашей базой данных</h5>

